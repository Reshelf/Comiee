import{j as m,C as x,D as f,z as g,e as r,f as e,m as w,E as y,y as d,F as h,x as b,G as j,s as C,o as n,t as u,p as S,q as F}from"./vendor-66ba3070.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const l=c=>(S("data-v-6a872c66"),c=c(),F(),c),L={class:"header-search-input relative flex items-center mx-auto"},M={class:"relative flex items-center"},D=l(()=>e("div",{class:"absolute px-4 py-2 flex-shrink-0"},[e("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])],-1)),I=["placeholder"],z={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},N=l(()=>e("title",null,"reset form",-1)),V=l(()=>e("path",{d:"M5.00098 5L19 18.9991",stroke:"#aaa","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),$=l(()=>e("path",{d:"M4.99996 18.9991L18.999 5",stroke:"#aaa","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),E=[N,V,$],q={key:0,class:"absolute dark:bg-dark top-[30px] bg-white shadow-lg z-[999] overflow-y-auto max-h-[500px] scroll-none rounded-[5px] p-2"},A=["onClick"],G={class:"flex items-center"},O=["src"],T=l(()=>e("img",{src:"/img/noimage.svg",class:"block dark:hidden w-[70px] h-[70px] object-cover"},null,-1)),U=l(()=>e("img",{src:"/img/noimage-dark.svg",class:"hidden dark:block w-[70px] h-[70px] object-cover"},null,-1)),H={class:"ml-4 w-[200px]"},J={class:"text-xl font-bold"},K={class:"text-666 dark:text-ddd"},P={__name:"SearchForm",setup(c){const i=m(!1),s=x({search:"",array:[]}),p=f(()=>s.search?Object.values(s.array).filter(o=>{let a=o.title.concat(o.name);return s.search.toLowerCase().split(" ").every(t=>a.toLowerCase().includes(t))}):s.array),_=async()=>{let o=await C.get("/api/search-words");s.array=o.data};g(()=>{_()});function v(o){location.href="/b/"+o.title}function k(){s.search=""}return(o,a)=>(n(),r("div",L,[e("div",M,[D,w(e("input",{ref:"anyName","onUpdate:modelValue":a[0]||(a[0]=t=>s.search=t),type:"text",placeholder:o.t("作品名、クリエイターで調べる"),class:"search-form-input",onFocus:a[1]||(a[1]=t=>i.value=!0)},null,40,I),[[y,s.search]])]),e("button",{onClick:a[2]||(a[2]=t=>k()),class:"absolute top-[10px] right-2"},[i.value&&s.search.length>1?(n(),r("svg",z,E)):d("",!0)]),i.value&&s.search.length>1?(n(),r("div",q,[(n(!0),r(h,null,b(j(p),t=>(n(),r("a",{key:t,class:"flex items-center p-4 cursor-pointer dark:hover:bg-dark-1 hover:bg-[#f5f5f5] rounded",onClick:Q=>v(t)},[e("div",G,[t.thumbnail?(n(),r("img",{key:0,src:t.thumbnail,class:"w-[80px] h-[80px] object-cover"},null,8,O)):(n(),r(h,{key:1},[T,U],64)),e("div",H,[e("div",J,u(t.title),1),e("div",K,u(t.name),1)])])],8,A))),128))])):d("",!0)]))}},X=B(P,[["__scopeId","data-v-6a872c66"]]);export{X as default};
