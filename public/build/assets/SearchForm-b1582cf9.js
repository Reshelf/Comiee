import{i as m,aK as x,M as f,q as g,o as r,c as n,a as e,w as b,bg as w,b as d,F as h,r as y,t as u,b6 as j,p as C,e as S}from"./app-f71f6793.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const l=c=>(C("data-v-bae95a75"),c=c(),S(),c),M={class:"header-search-input relative flex items-center mx-auto"},B={class:"relative flex items-center"},L=l(()=>e("div",{class:"absolute px-4 py-2 flex-shrink-0"},[e("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])],-1)),I=["placeholder"],D={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},N=l(()=>e("title",null,"reset form",-1)),V=l(()=>e("path",{d:"M5.00098 5L19 18.9991",stroke:"#aaa","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),$=l(()=>e("path",{d:"M4.99996 18.9991L18.999 5",stroke:"#aaa","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),z=[N,V,$],q={key:0,class:"absolute dark:bg-dark top-[30px] bg-white shadow-lg z-[999] overflow-y-auto max-h-[500px] scroll-none rounded-[5px] p-2"},A=["onClick"],E={class:"flex items-center"},K=["src"],O=l(()=>e("img",{src:"/img/noimage.svg",class:"block dark:hidden w-[70px] h-[70px] object-cover"},null,-1)),T=l(()=>e("img",{src:"/img/noimage-dark.svg",class:"hidden dark:block w-[70px] h-[70px] object-cover"},null,-1)),U={class:"ml-4 w-[200px]"},G={class:"text-xl font-bold"},H={class:"text-666 dark:text-ddd"},J={__name:"SearchForm",setup(c){const i=m(!1),s=x({search:"",array:[]}),p=f(()=>s.search?Object.values(s.array).filter(o=>{let a=o.title.concat(o.name);return s.search.toLowerCase().split(" ").every(t=>a.toLowerCase().includes(t))}):s.array),_=async()=>{let o=await axios.get("/api/search-words");s.array=o.data};g(()=>{_()});function v(o){location.href="/b/"+o.title}function k(){s.search=""}return(o,a)=>(r(),n("div",M,[e("div",B,[L,b(e("input",{ref:"anyName","onUpdate:modelValue":a[0]||(a[0]=t=>s.search=t),type:"text",placeholder:o.t("作品名、クリエイターで調べる"),class:"search-form-input",onFocus:a[1]||(a[1]=t=>i.value=!0)},null,40,I),[[w,s.search]])]),e("button",{onClick:a[2]||(a[2]=t=>k()),class:"absolute top-[10px] right-2"},[i.value&&s.search.length>1?(r(),n("svg",D,z)):d("",!0)]),i.value&&s.search.length>1?(r(),n("div",q,[(r(!0),n(h,null,y(j(p),t=>(r(),n("a",{key:t,class:"flex items-center p-4 cursor-pointer dark:hover:bg-dark-1 hover:bg-[#f5f5f5] rounded",onClick:P=>v(t)},[e("div",E,[t.thumbnail?(r(),n("img",{key:0,src:t.thumbnail,class:"w-[80px] h-[80px] object-cover"},null,8,K)):(r(),n(h,{key:1},[O,T],64)),e("div",U,[e("div",G,u(t.title),1),e("div",H,u(t.name),1)])])],8,A))),128))])):d("",!0)]))}},W=F(J,[["__scopeId","data-v-bae95a75"]]);export{W as default};
