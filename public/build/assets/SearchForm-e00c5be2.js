import{i as m,C as x,A as f,s as g,o as r,b as n,e,w,D as b,f as d,F as h,r as y,t as u,B as C,a as j,p as S,h as B}from"./vendor-d069af5c.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const l=c=>(S("data-v-2284935c"),c=c(),B(),c),L={class:"header-search-input relative flex items-center mx-auto"},M={class:"relative flex items-center"},D=l(()=>e("div",{class:"absolute px-4 py-2 flex-shrink-0"},[e("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])],-1)),I=["placeholder"],N={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},V=l(()=>e("title",null,"reset form",-1)),$=l(()=>e("path",{d:"M5.00098 5L19 18.9991",stroke:"#aaa","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),z=l(()=>e("path",{d:"M4.99996 18.9991L18.999 5",stroke:"#aaa","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),A=[V,$,z],E={key:0,class:"absolute dark:bg-dark top-[30px] bg-white shadow-lg z-[999] overflow-y-auto max-h-[500px] scroll-none rounded-[5px] p-2"},O=["onClick"],T={class:"flex items-center"},U=["src"],q=l(()=>e("img",{src:"/img/noimage.svg",class:"block dark:hidden w-[70px] h-[70px] object-cover"},null,-1)),G=l(()=>e("img",{src:"/img/noimage-dark.svg",class:"hidden dark:block w-[70px] h-[70px] object-cover"},null,-1)),H={class:"ml-4 w-[200px]"},J={class:"text-xl font-bold"},K={class:"text-666 dark:text-ddd"},P={__name:"SearchForm",setup(c){const i=m(!1),s=x({search:"",array:[]}),p=f(()=>s.search?Object.values(s.array).filter(o=>{let a=o.title.concat(o.name);return s.search.toLowerCase().split(" ").every(t=>a.toLowerCase().includes(t))}):s.array),_=async()=>{let o=await j.get("/api/search-words");s.array=o.data};g(()=>{_()});function v(o){location.href="/b/"+o.title}function k(){s.search=""}return(o,a)=>(r(),n("div",L,[e("div",M,[D,w(e("input",{ref:"anyName","onUpdate:modelValue":a[0]||(a[0]=t=>s.search=t),type:"text",placeholder:o.t("作品名、クリエイターで調べる"),class:"search-form-input",onFocus:a[1]||(a[1]=t=>i.value=!0)},null,40,I),[[b,s.search]])]),e("button",{onClick:a[2]||(a[2]=t=>k()),class:"absolute top-[10px] right-2"},[i.value&&s.search.length>1?(r(),n("svg",N,A)):d("",!0)]),i.value&&s.search.length>1?(r(),n("div",E,[(r(!0),n(h,null,y(C(p),t=>(r(),n("a",{key:t,class:"flex items-center p-4 cursor-pointer dark:hover:bg-dark-1 hover:bg-[#f5f5f5] rounded",onClick:Q=>v(t)},[e("div",T,[t.thumbnail?(r(),n("img",{key:0,src:t.thumbnail,class:"w-[80px] h-[80px] object-cover"},null,8,U)):(r(),n(h,{key:1},[q,G],64)),e("div",H,[e("div",J,u(t.title),1),e("div",K,u(t.name),1)])])],8,O))),128))])):d("",!0)]))}},X=F(P,[["__scopeId","data-v-2284935c"]]);export{X as default};
