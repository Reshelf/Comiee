import{y as M,o as i,b as l,e,u as a,t,n as h,w as v,m as w,G as y,f as u,H as j,F as p,r as B,D as _,i as k,l as D,k as b,T as $,g as T}from"./vendor-17012728.js";import z from"./PageViewsGraph-d9e3fa8a.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const L={data(){return{show:!1,selectMode:"pageview"}},components:{PageViewsGraph:z},props:{isBookDetail:Boolean,selectedBook:Object},methods:{closeBookDetail(){this.$emit("close-book-detail")},selectEpisode(s){this.selectedBook=s,this.show=!0},roundToZeroDecimal(s){return parseFloat(s).toFixed(0)},circularProgressStyle(s){return{background:`conic-gradient(#0570de ${s/100*360}deg, #eee 0deg)`}}}},N={class:"p-12 w-full"},F=e("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),S={class:"w-full flex"},V={class:"w-1/5 p-8 flex flex-col"},A={class:""},E={class:"text-xs text-[#9aa0a6] leading-6"},P={class:"text-3xl mb-8"},q={class:"w-4/5 p-8"},G={key:1,class:"bounceRate"},O={class:"relative text-2xl"},Z={class:""},H={key:2,class:"overflow-auto"},R={class:"w-full flex items-center whitespace-nowrap mb-4 py-4 border-y border-comiee text-xs text-aaa"},I={class:"px-4 min-w-[382px]"},J={class:"px-4 min-w-[100px]"},K={class:"px-4 min-w-[100px] text-right"},Q={class:"px-4 min-w-[100px] text-right"},U={class:"px-4 min-w-[100px] text-right"},W={class:"px-4 min-w-[100px] text-right"},X={class:"px-4 min-w-[100px] text-right"},Y={class:"px-4 min-w-[100px] text-right"},ee={class:"px-4 min-w-[100px] text-right"},se={class:"px-4 min-w-[100px] text-right"},te={class:"px-4 min-w-[100px] text-right"},oe=["onClick"],ie=["src"],le={class:"w-full flex flex-col px-4 py-2"},re={class:"text-[13px]"},ne={class:"flex text-[13px] justify-start px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"},ce={key:0,class:"flex items-start"},de={class:"flex items-center"},ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-1 text-aaa"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})],-1),xe={key:1,class:"flex items-start"},pe={class:"flex items-center"},me=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-1 text-green dark:text-[#2F873B]"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1);function he(s,o,d,x,r,n){const m=M("page-views-graph");return i(),l("div",N,[e("div",{class:"w-full flex items-center pb-4 cursor-pointer border-b border-comiee",onClick:o[0]||(o[0]=(...c)=>n.closeBookDetail&&n.closeBookDetail(...c))},[F,a(" "+t(s.t("戻る")),1)]),e("div",S,[e("div",V,[e("div",A,[e("h3",E,t(s.t("作品名")),1),e("div",P,t(d.selectedBook.title),1)]),e("div",{onClick:o[1]||(o[1]=c=>r.selectMode="pageview"),class:h(["cursor-pointer py-2 px-4",r.selectMode=="pageview"?"bg-f5 rounded-lg":""])},t(s.t("ページビュー")),3),e("div",{onClick:o[2]||(o[2]=c=>r.selectMode="bounce"),class:h(["cursor-pointer py-2 px-4",r.selectMode=="bounce"?"bg-f5 rounded-lg":""])},t(s.t("離脱率")),3),e("div",{onClick:o[3]||(o[3]=c=>r.selectMode="averageTime"),class:h(["cursor-pointer py-2 px-4",r.selectMode=="averageTime"?"bg-f5 rounded-lg":""])},t(s.t("平均滞在時間")),3),e("div",{onClick:o[4]||(o[4]=c=>r.selectMode="episode"),class:h(["cursor-pointer py-2 px-4",r.selectMode=="episode"?"bg-f5 rounded-lg":""])},t(s.t("エピソード一覧")),3)]),e("div",q,[r.selectMode=="pageview"?v((i(),y(m,{key:0,book:d.selectedBook},null,8,["book"])),[[w,r.selectMode=="pageview"]]):u("",!0),r.selectMode=="bounce"?(i(),l("div",G,[e("div",{class:"circular-progress",style:j(n.circularProgressStyle(d.selectedBook.bounce_rate))},[e("span",O,t(n.roundToZeroDecimal(d.selectedBook.bounce_rate))+"%",1)],4),e("span",Z,t(s.t("離脱率")),1)])):u("",!0),r.selectMode=="episode"?v((i(),l("section",H,[d.selectedBook.episodes.length===0?(i(),l(p,{key:0},[a(t(s.t("エピソードはありません")),1)],64)):(i(),l(p,{key:1},[e("div",R,[e("div",I,t(s.t("エピソード")),1),e("div",J,t(s.t("公開設定")),1),e("div",K,t(s.t("閲覧回数")),1),e("div",Q,t(s.t("ユーザー数")),1),e("div",U,t(s.t("お気に入り数")),1),e("div",W,t(s.t("いいね総数")),1),e("div",X,t(s.t("離脱率")),1),e("div",Y,t(s.t("平均滞在時間")),1),e("div",ee,t(s.t("売上金額")),1),e("div",se,t(s.t("コンバージョン率")),1),e("div",te,t(s.t("コメント数")),1)]),(i(!0),l(p,null,B(d.selectedBook.episodes,c=>(i(),l("div",{key:c.id,class:"flex"},[e("div",{class:"cursor-pointer flex text-[13px] min-w-[382px] max-w-[382px] mb-2 pb-2 border-b border-comiee",onClick:Ge=>n.selectEpisode(c)},[e("img",{src:c.thumbnail,alt:"thumbnail",class:"w-full md:w-[120px] h-[68px] object-cover",loading:"lazy"},null,8,ie),e("div",le,[e("h3",re,t(c.title),1)])],8,oe),e("div",ne,[c.is_hidden?(i(),l("div",ce,[e("div",de,[ae,a(" "+t(s.t("非公開")),1)])])):(i(),l("div",xe,[e("div",pe,[me,a(" "+t(s.t("公開中")),1)])]))])]))),128))],64))],512)),[[w,r.selectMode=="episode"]]):u("",!0)])])])}const ue=C(L,[["render",he]]),ve=["src"],we={class:"w-full flex flex-col px-4 py-2"},_e={class:"text-[13px]"},be={class:"text-xs max-[232px] truncate"},ke={class:"flex text-[13px] justify-start px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"},fe={key:0,class:"flex items-start"},ge={class:"flex items-center"},ye=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-1 text-aaa"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})],-1),Be={key:1,class:"flex items-start"},Ce={class:"flex items-center"},Me=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-1 text-green dark:text-[#2F873B]"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),je=e("div",{class:"flex justify-end px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"}," 0 ",-1),De=e("div",{class:"flex justify-end px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"}," 0 ",-1),$e={class:"flex justify-end px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"},Te={class:"flex justify-end px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"},ze=e("div",{class:"flex justify-end px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"}," 0 ",-1),Le=e("div",{class:"flex justify-end px-4 min-w-[100px] max-w-[100px] mb-2 pb-2 border-b border-comiee"}," 0 ",-1),Ne={class:"absolute h-screen w-screen left-0 right-0 top-0 bottom-0 bg-white dark:bg-dark z-50"},f=_({__name:"Tbody",props:{book:{type:Object,required:!0}},setup(s){const o=k(!1),d=k(null),x=n=>{d.value=n,o.value=!0},r=()=>{o.value=!1};return(n,m)=>(i(),l(p,null,[e("div",{class:"cursor-pointer flex text-[13px] min-w-[382px] max-w-[382px] mb-2 pb-2 border-b border-comiee",onClick:m[0]||(m[0]=c=>x(s.book))},[e("img",{src:s.book.thumbnail||"",alt:"thumbnail",class:"w-full md:w-[120px] h-[68px] object-cover",loading:"lazy"},null,8,ve),e("div",we,[e("h3",_e,t(s.book.title),1),e("div",be,t(s.book.story),1)])]),e("div",ke,[s.book.is_hidden?(i(),l("div",fe,[e("div",ge,[ye,a(" "+t(n.t("非公開")),1)])])):(i(),l("div",Be,[e("div",Ce,[Me,a(" "+t(n.t("公開中")),1)])]))]),je,De,e("div",$e,t(n.formatNumber(s.book.likes_count)),1),e("div",Te,t(n.formatNumber(s.book.count_episode_likes)),1),ze,Le,d.value?(i(),y($,{key:0,name:"animation-bg"},{default:D(()=>[v(e("div",Ne,[b(ue,{isBookDetail:o.value,onCloseBookDetail:r,selectedBook:d.value},null,8,["isBookDetail","selectedBook"])],512),[[w,o.value]])]),_:1})):u("",!0)],64))}}),Fe={},Se={class:"w-full flex items-center whitespace-nowrap mb-4 py-4 border-y border-comiee text-xs text-aaa"},Ve=T('<div class="px-4 min-w-[382px]">作品</div><div class="px-4 min-w-[100px]">公開設定</div><div class="px-4 min-w-[100px] text-right">閲覧回数</div><div class="px-4 min-w-[100px] text-right">ユーザー数</div><div class="px-4 min-w-[100px] text-right">お気に入り数</div><div class="px-4 min-w-[100px] text-right">いいね総数</div><div class="px-4 min-w-[100px] text-right">売上金額</div><div class="px-4 min-w-[100px] text-right">コンバージョン率</div><div class="px-4 min-w-[100px] text-right">コメント数</div>',9),Ae=[Ve];function Ee(s,o){return i(),l("div",Se,Ae)}const g=C(Fe,[["render",Ee]]),Pe={class:"text-2xl mb-8"},qe={class:"overflow-auto"},Re=_({__name:"ContentsDashboard",props:{books:{type:Array,required:!0}},setup(s){return _({components:{Thead:g,Tbody:f}}),(o,d)=>(i(),l("div",null,[e("h2",Pe,t(o.t("コンテンツ分析")),1),e("section",qe,[b(g),(i(!0),l(p,null,B(s.books,x=>(i(),l("div",{key:x.id,class:"flex"},[b(f,{book:x},null,8,["book"])]))),128))])]))}});export{Re as _};
