import{o as a,b as n,e as t,j as p,w as c,m as h,B as f,t as i,F as x,r as _,f as u,p as m,h as v}from"./vendor-3de5d8e5.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";const y={data(){return{show:!1,result:!1,state:{search:"",array:[]}}},computed:{filter(){return this.state.search?Object.values(this.state.array).filter(e=>{let s=e.title.concat(e.name);return this.state.search.toLowerCase().split(" ").every(d=>s.toLowerCase().includes(d))}):this.state.array}},mounted(){this.getData()},methods:{async getData(){let e=await axios.get("/api/search-words");this.state.array=e.data},locate(e){location.href="/b/"+e.title},reset(){this.state.search=""},openSearchForm(){this.show=!0,this.$nextTick(()=>{this.$refs.inputToFocus.focus()})}}},g=e=>(m("data-v-38aeb751"),e=e(),v(),e),k={class:"relative flex items-center mx-auto"},b={class:"search-form"},S={class:"flex items-center w-full"},F={class:"flex items-center w-full"},C=g(()=>t("div",{class:"text-gray absolute pl-8 py-2 flex-shrink-0"},[t("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])],-1)),j=["placeholder"],B={key:0,class:"flex flex-col justify-start mt-4 bg-dark shadow-lg overflow-y-auto max-h-[500px] scroll-none"},D=["onClick"],I={class:""},T=["src"],L={class:"ml-4 text-left"},V={class:"text-xl text-ddd font-bold"},M={class:"text-ddd mt-1"},N={key:1,class:"text-ddd text-base"};function z(e,s,d,A,o,l){return a(),n("div",k,[t("div",{class:"",onClick:s[0]||(s[0]=(...r)=>l.openSearchForm&&l.openSearchForm(...r))},[p(e.$slots,"trigger",{},void 0,!0)]),c(t("div",null,[t("div",b,[t("div",S,[t("div",F,[C,c(t("input",{ref:"inputToFocus","onUpdate:modelValue":s[1]||(s[1]=r=>o.state.search=r),type:"text",placeholder:e.t("検索する"),class:"my-2 mx-6 w-full py-2 pl-10 pr-10 bg-dark-1 text-white rounded-2xl",onFocus:s[2]||(s[2]=r=>o.result=!0)},null,40,j),[[f,o.state.search]])]),c(t("button",{class:"pr-4 whitespace-nowrap text-f5 text-[14px]",onClick:s[3]||(s[3]=r=>l.reset())},i(e.t("キャンセル")),513),[[h,o.result&&o.state.search.length>0]])]),o.result&&o.state.search.length>1?(a(),n("div",B,[(a(!0),n(x,null,_(l.filter,r=>(a(),n("a",{key:r,class:"w-full flex justify-start items-center p-4 cursor-pointer mb-2",onClick:E=>l.locate(r)},[t("div",I,[t("img",{src:r.thumbnail,alt:"",class:"w-[50px] h-[50px] object-cover rounded-xl"},null,8,T)]),t("div",L,[t("div",V,i(r.title),1),t("div",M,i(r.name),1)])],8,D))),128))])):u("",!0),o.state.search.length>1&&l.filter.length===0?(a(),n("div",N,i(e.t("検索結果がありません")),1)):u("",!0),t("div",{class:"flex justify-center text-gray text-base py-8",onClick:s[4]||(s[4]=r=>o.show=!1)},i(e.t("閉じる")),1)])],512),[[h,o.show]])])}const q=w(y,[["render",z],["__scopeId","data-v-38aeb751"]]);export{q as default};
